<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HeartEase - Virtual Supporter</title>

<!-- FontAwesome for icons -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

<style>
/* --- CSS --- */
* {margin:0; padding:0; box-sizing:border-box;}
body {font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f0f4f8; color:#333;}
header {text-align:center; background:linear-gradient(90deg,#ff7eb9,#ff758c); color:white; padding:30px; box-shadow:0 4px 6px rgba(0,0,0,0.1);}
header h1{font-size:2.5em;}
nav{display:flex; justify-content:center; flex-wrap:wrap; margin:10px 0;}
nav button{margin:5px; padding:10px 20px; border:none; border-radius:30px; cursor:pointer; font-weight:bold; transition:0.3s; background:#ffd6e8;}
nav button:hover{background:#ff92c1; color:white;}
main{padding:20px; max-width:900px; margin:auto;}
section{display:none; animation:fadeIn 0.5s;}
section.active{display:block;}
@keyframes fadeIn{from{opacity:0;} to{opacity:1;}}
.card{background:white; padding:20px; margin:15px 0; border-radius:15px; box-shadow:0 4px 6px rgba(0,0,0,0.1);}
.card h2{margin-bottom:15px; color:#ff7eb9;}
#chatBox, #moodList, #journalList{background:#fefefe; padding:10px; border-radius:10px; max-height:200px; overflow-y:auto; box-shadow: inset 0 0 5px rgba(0,0,0,0.05);}
button.primary{background:#ff7eb9; color:white; border:none; padding:10px 15px; border-radius:20px; cursor:pointer; transition:0.3s;}
button.primary:hover{background:#ff92c1;}
#circle{width:120px; height:120px; background:#ff92c1; border-radius:50%; margin:20px auto; animation:none;}
textarea{width:100%; padding:10px; margin-bottom:10px; border-radius:10px; border:1px solid #ccc; resize:none;}
input[type=text]{width:80%; padding:8px; border-radius:10px; border:1px solid #ccc;}
@keyframes breath{0%{transform:scale(1);}50%{transform:scale(1.5);}100%{transform:scale(1);}}
.emoji-btn{font-size:2em; margin:5px; cursor:pointer; transition:0.3s;}
.emoji-btn:hover{transform:scale(1.2);}
.entry-item{display:flex; justify-content:space-between; align-items:center; padding:5px 0; border-bottom:1px solid #eee;}
.entry-item button{background:#ff7eb9; border:none; color:white; border-radius:10px; padding:2px 5px; cursor:pointer; transition:0.3s;}
.entry-item button:hover{background:#ff92c1;}
</style>
</head>
<body>

<header>
  <h1>HeartEase</h1>
  <p>Your Virtual Relationship & Stress Supporter</p>
</header>

<nav>
  <button onclick="showSection('home')"><i class="fas fa-home"></i> Home</button>
  <button onclick="showSection('mood')"><i class="fas fa-smile"></i> Mood Tracker</button>
  <button onclick="showSection('chat')"><i class="fas fa-comment-dots"></i> Chat</button>
  <button onclick="showSection('exercise')"><i class="fas fa-lungs"></i> Exercises</button>
  <button onclick="showSection('journal')"><i class="fas fa-book"></i> Journaling</button>
</nav>

<main>
  <!-- Home -->
  <section id="home" class="active">
    <div class="card">
      <h2>Welcome to HeartEase!</h2>
      <p>Track your mood, chat with your virtual supporter, relax with exercises, and journal your thoughts. Your mental wellness matters!</p>
    </div>
  </section>

  <!-- Mood Tracker -->
  <section id="mood">
    <div class="card">
      <h2>Mood Tracker</h2>
      <div>
        <span class="emoji-btn" onclick="saveMood('ðŸ˜„')">ðŸ˜„</span>
        <span class="emoji-btn" onclick="saveMood('ðŸ˜¢')">ðŸ˜¢</span>
        <span class="emoji-btn" onclick="saveMood('ðŸ˜Ÿ')">ðŸ˜Ÿ</span>
        <span class="emoji-btn" onclick="saveMood('ðŸ˜ ')">ðŸ˜ </span>
        <span class="emoji-btn" onclick="saveMood('ðŸ˜Œ')">ðŸ˜Œ</span>
      </div>
      <h3>Your Mood History:</h3>
      <div id="moodList"></div>
    </div>
  </section>

  <!-- Chat -->
  <section id="chat">
    <div class="card">
      <h2>Chat with HeartEase</h2>
      <div id="chatBox"></div>
      <input type="text" id="userInput" placeholder="Type your feeling...">
      <button class="primary" onclick="sendMessage()">Send</button>
    </div>
  </section>

  <!-- Exercises -->
  <section id="exercise">
    <div class="card">
      <h2>Guided Breathing Exercise</h2>
      <p>Follow the circle animation and breathe in/out!</p>
      <div id="circle"></div>
      <button class="primary" onclick="startBreathing()">Start Exercise</button>
    </div>
  </section>

  <!-- Journaling -->
  <section id="journal">
    <div class="card">
      <h2>Journaling</h2>
      <textarea id="journalEntry" rows="5" placeholder="Write your thoughts here..."></textarea>
      <button class="primary" onclick="saveJournal()">Save Entry</button>
      <h3>Your Journal Entries:</h3>
      <div id="journalList"></div>
    </div>
  </section>
</main>

<script>
// --- JS ---
// Section Navigation
function showSection(id){
  const sections = document.querySelectorAll('main section');
  sections.forEach(sec => sec.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// Mood Tracker
function saveMood(emoji){
  let moods = JSON.parse(localStorage.getItem('moods')) || [];
  moods.push({date:new Date().toLocaleDateString(), mood:emoji});
  localStorage.setItem('moods', JSON.stringify(moods));
  renderMoods();
}
function renderMoods(){
  const moodList = document.getElementById('moodList');
  let moods = JSON.parse(localStorage.getItem('moods')) || [];
  moodList.innerHTML = '';
  moods.slice().reverse().forEach(m=>{
    const div = document.createElement('div');
    div.textContent = `${m.date}: ${m.mood}`;
    moodList.appendChild(div);
  });
}
renderMoods();

// Chat
function sendMessage(){
  const input = document.getElementById('userInput').value;
  if(!input) return;
  const chatBox = document.getElementById('chatBox');
  const userMsg = document.createElement('div');
  userMsg.textContent = "You: "+input;
  chatBox.appendChild(userMsg);

  const botMsg = document.createElement('div');
  let msg = "HeartEase: Keep calm and breathe!";
  if(input.toLowerCase().includes("sad")) msg="HeartEase: It's okay to feel sad, try journaling.";
  else if(input.toLowerCase().includes("stressed")) msg="HeartEase: Try a 1-min breathing exercise!";
  else if(input.toLowerCase().includes("angry")) msg="HeartEase: Take a pause and breathe slowly.";
  botMsg.textContent = msg;
  chatBox.appendChild(botMsg);

  chatBox.scrollTop = chatBox.scrollHeight;
  document.getElementById('userInput').value = '';
}

// Breathing Exercise
function startBreathing(){
  const circle = document.getElementById('circle');
  circle.style.animation = 'breath 4s infinite';
}

// Journaling
function saveJournal(){
  const entry = document.getElementById('journalEntry').value;
  if(!entry) return;
  let journal = JSON.parse(localStorage.getItem('journal')) || [];
  journal.push({date:new Date().toLocaleDateString(), text:entry});
  localStorage.setItem('journal', JSON.stringify(journal));
  document.getElementById('journalEntry').value = '';
  renderJournal();
}
function renderJournal(){
  const journalList = document.getElementById('journalList');
  let journal = JSON.parse(localStorage.getItem('journal')) || [];
  journalList.innerHTML = '';
  journal.slice().reverse().forEach((e,i)=>{
    const div = document.createElement('div');
    div.className='entry-item';
    div.innerHTML=`<span>${e.date}: ${e.text}</span> <button onclick="deleteJournal(${i})">Delete</button>`;
    journalList.appendChild(div);
  });

